(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{169:function(s,e,a){"use strict";a.r(e);var t=a(0),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),s._m(5),s._v(" "),s._m(6),s._v(" "),a("ol",[a("li",[s._v("下载安装  "),a("a",{attrs:{href:"https://store.docker.com/editions/community/docker-ce-desktop-windows",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker Desktop"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("将默认容器类型设置为 Windows 容器 ？\n& $Env:ProgramFiles\\Docker\\Docker\\DockerCli.exe -SwitchDaemon .")])]),s._v(" "),s._m(7),s._v(" "),s._m(8),s._v(" "),s._m(9),s._m(10),s._v(" "),s._m(11),s._m(12),s._v(" "),a("p",[s._v("// 1、构建镜像,需要切换到APos.Pay.Interface上级目录执行\ndocker build -t apos.pay:1.0.1 -f APos.Pay.Interface/LocalDocker/LocalDockerfile .\n//2、启动服务,需要切换到APos.Pay.Interface上级目录执行\ndocker-compose --compatibility -f APos.Pay.Interface/LocalDocker/Local.yml up -d")])])}),[function(){var s=this.$createElement,e=this._self._c||s;return e("h1",{attrs:{id:"适用于容器的-windows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#适用于容器的-windows"}},[this._v("#")]),this._v(" 适用于容器的 Windows")])},function(){var s=this.$createElement,e=this._self._c||s;return e("h2",{attrs:{id:"运行环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行环境"}},[this._v("#")]),this._v(" 运行环境")])},function(){var s=this.$createElement,e=this._self._c||s;return e("pre",[e("code",[this._v(" Windows Server 2016及以上 / Windows 10\n")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("h2",{attrs:{id:"安装docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[this._v("#")]),this._v(" 安装Docker")])},function(){var s=this.$createElement,e=this._self._c||s;return e("h3",{attrs:{id:"windows-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows-server"}},[this._v("#")]),this._v(" Windows Server")])},function(){var s=this.$createElement,e=this._self._c||s;return e("ol",[e("li",[this._v("打开提升的 PowerShell 会话，从 PowerShell 库安装 Docker-Microsoft PackageManagement 提供程序。\nInstall-Module -Name DockerMsftProvider -Repository PSGallery -Force")]),this._v(" "),e("li",[this._v("使用 PackageManagement PowerShell 模块安装最新版本的 Docker。\nInstall-Package -Name docker -ProviderName DockerMsftProvider")]),this._v(" "),e("li",[this._v("在安装完成后，请重启计算机。\nRestart-Computer -Force")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("h3",{attrs:{id:"windows-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows-10"}},[this._v("#")]),this._v(" Windows 10")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[e("img",{attrs:{src:"E:%5C%E6%96%87%E6%A1%A3%5C%E4%B8%AA%E4%BA%BA%5CMarkdown%5C%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90%5Cdocker-for-win-switch.png",alt:""}})])},function(){var s=this.$createElement,e=this._self._c||s;return e("h2",{attrs:{id:"编写dockerfile"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编写dockerfile"}},[this._v("#")]),this._v(" 编写Dockerfile")])},function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"language-c# line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('FROM mcr.microsoft.com/dotnet/aspnet:3.1 AS base\nWORKDIR /app\nEXPOSE 12041\n\nFROM mcr.microsoft.com/dotnet/sdk:3.1 AS build\nWORKDIR /src\n\nCOPY ./NuGet.Config .\nCOPY ./APos.Pay.Interface/APos.Pay.Interface.csproj ./APos.Pay.Interface/\nCOPY ./APos.Pay.Application/APos.Pay.Application.csproj ./APos.Pay.Application/\nCOPY ./APos.Pay.IApplication/APos.Pay.IApplication.csproj ./APos.Pay.IApplication/\nCOPY ./APos.Pay.DataContract/APos.Pay.DataContract.csproj ./APos.Pay.DataContract/\nCOPY ./APos.Pay.Domain/APos.Pay.Domain.csproj ./APos.Pay.Domain/\nCOPY ./APos.Pay.DataAccess/APos.Pay.DataAccess.csproj ./APos.Pay.DataAccess/\n\n#恢复项目的依赖项和工具\nRUN dotnet restore "APos.Pay.Interface/APos.Pay.Interface.csproj"\nCOPY . .\nWORKDIR "/src/APos.Pay.Interface"\n#生成项目及其所有依赖项\nRUN dotnet build "APos.Pay.Interface.csproj" -c Release -o /app/build\n\nFROM build AS publish\n#发布\nRUN dotnet publish "APos.Pay.Interface.csproj" -c Release -o /app/publish\n\nFROM base AS final\nWORKDIR /app\nCOPY --from=publish /app/publish .\nENTRYPOINT ["dotnet", "APos.Pay.Interface.dll"]\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("h2",{attrs:{id:"编写dockerfile-yml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编写dockerfile-yml"}},[this._v("#")]),this._v(" 编写Dockerfile.yml")])},function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("version: '3.6'\n\nservices:\n  apospay:\n    container_name: pay-1.0.1\n    image: apos.pay:1.0.1\n    deploy:\n         resources:\n            limits:\n               cpus: '2'\n               memory: 2G\n    ports:\n      - \"12041:12041\"\n    environment:\n      - ASPNETCORE_ENVIRONMENT=LocalDev\n      - ASPNETCORE_URLS=http://+:12041\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("h2",{attrs:{id:"docker-运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-运行"}},[this._v("#")]),this._v(" Docker 运行")])}],!1,null,null,null);e.default=n.exports}}]);